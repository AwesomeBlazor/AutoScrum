@using AutoScrum.Services
@using AutoScrum.AzureDevOps.Models
<CollapsibleCard Title="Yesterday" AnchorLink="yesterday-today">
    <WorkItemListComponent WorkItems="@DailyScrum.Yesterday" IsOnBoard=false OnRemove="RemoveAsync"/>
</CollapsibleCard>

@code
{
    [Parameter]
    public DailyScrumService DailyScrum { get; set; } = null!;
    
    [Parameter]
    public EventCallback OnRemove { get; set; }

    private async Task RemoveAsync(WorkItem workItem)
    {
        DailyScrum.RemoveYesterday(workItem);

        if (OnRemove.HasDelegate)
        {
            await OnRemove.InvokeAsync();
        }
    }
}
