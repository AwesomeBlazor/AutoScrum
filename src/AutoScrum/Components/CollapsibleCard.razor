<Card>
    <TitleTemplate>
        <div class="flex-between">
            @Title
            <Switch @bind-Checked="_visible">
                <CheckedChildrenTemplate>
                    Visible
                </CheckedChildrenTemplate>
                <UnCheckedChildrenTemplate>
                    Hidden
                </UnCheckedChildrenTemplate>
            </Switch>
        </div>
    </TitleTemplate>
    <ChildContent>
        @if (_visible)
        {
            @ChildContent
        }
    </ChildContent>
</Card>

@code
{
    [Parameter]
    public RenderFragment ChildContent { get; set; }

    [Parameter]
    public string Title { get; set; }
    
    [Parameter]
    public bool DefaultVisible { get; set; }

    private bool _visible;

    protected override void OnInitialized()
    {
        _visible = DefaultVisible;
    }
}
